<!DOCTYPE html>
<html>

<head>
    <title>IIIF Image Viewer</title>
    <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed:100,200,300,400,500,600&display=swap"
    rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Alumni+Sans+Pinstripe:ital@0;1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="metadata.css">
    <link rel="stylesheet" href="../../../shared/shared_styles.css">
    <script src="../../../libs/i18next.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/i18next-http-backend@1.3.1/i18nextHttpBackend.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed:100,200,300,400,500,600&display=swap"
    rel="stylesheet" />
</head>
<style>
#languageButton {
    background: #646464;
    font-family: "Barlow Condensed", sans-serif !important;
    color: #fff;
    font-size: 120%;
}

#languageButton:hover {
    background: #505a64;
}

.container {
    background: rgb(55, 55, 55)
}

.metadata-panel-title {
    font-size: 1.8em;
    text-align: left;
    color: #fff;
    font-weight: 400;
    font-family: "Barlow Condensed", sans-serif !important;
}

.metadata-container {
    font-family: "Barlow Condensed", sans-serif !important;
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;  
}

.metadata-item-container-font {
    font-family: "Barlow Condensed", sans-serif !important;
}

.metadata-item-container {
    display: flex;
    align-items: center;  
    width: 32%;  
    margin-bottom: 10px;  
    margin-right: 1%;  
}

.tag-label {
    width: 120px;
    color: #fff;
    font-weight: 600;
    font-size: 120%;
    flex: 1; 
    white-space: wrap;  
    padding-right: 5px;  
}

.info-label {
    width: 120px;
    font-weight: 400;
    font-size: 120%;
    flex: 2; 
    text-align: left;  
    white-space: wrap;
    color: rgb(200, 225, 250) !important;
}
</style>

<body>
    <script>
        function updateTranslations(t, lang) {
            document.getElementById('keywords_sv').style.display = lang === 'sv' ? 'block' : 'none';
            document.getElementById('keywords_en').style.display = lang === 'en' ? 'block' : 'none';
            document.getElementById('lang1').textContent = t('tags');
        }

        function setButtonLabel(language) {
            document.getElementById('languageButton').textContent = language === 'sv' ? 'In English' : 'PÃ¥ Svenska';
        }

        function changeLanguage(lang) {
            i18next.changeLanguage(lang, function (err, t) {
                if (err) {
                    console.error("Error changing language:", err);
                    return;
                }
                window.parent.postMessage({ type: 'languageChange', lang: lang }, "*");
                localStorage.setItem('i18nextLangSHFA', lang);
                setButtonLabel(lang);
                updateTranslations(t, lang);
            });
        }

        function toggleLanguage() {
            let currentLanguage = localStorage.getItem('i18nextLangSHFA') || 'en';
            currentLanguage = currentLanguage === 'en' ? 'sv' : 'en';
            changeLanguage(currentLanguage);
        }

        document.addEventListener('DOMContentLoaded', function () {
            const savedLang = localStorage.getItem('i18nextLangSHFA') || 'en';

            i18next.use(i18nextHttpBackend).init({
                lng: savedLang,
                fallbackLng: 'en',
                backend: {
                    loadPath: '/locales/{{lng}}/translation.json',
                },
            }, function (err, t) {
                if (err) {
                    console.error("i18next initialization error:", err);
                    return;
                }
                setButtonLabel(savedLang);
                updateTranslations(t, savedLang);
            });
        });
    </script>

    <div class="container">
        <div class="border"></div>

        <div class="language-toggle-buttons">
            <button id="languageButton" onclick="toggleLanguage()"></button>
        </div>

        <div class="metadata-text">
            <div class="metadata-panel">

                <div class="metadata-panel-title">
                    <div style="display:inline;"></div> PLACEHOLDER_TITLE
                </div>

                <div class="metadata-container">

                    <div class="metadata-item-container">
                        <div class="tag-label">Site:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_SITE</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Date:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_DATE</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Creator:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_CREATOR</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Institution:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_INSTITUTION</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Dating:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_DATINGS</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Geology:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_GEOLOGY</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Vertices:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_NUM_VERTICES</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Faces:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_NUM_FACES</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Photos:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_NUM_PHOTOS</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Dimensions:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_DIMENSIONS</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Method:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_METHOD</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Weather:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_WEATHER</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Camera Lens:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_CAMERA_LENS</div>
                    </div>

                    <div class="metadata-item-container">
                        <div class="tag-label">Camera Model:</div>
                        <div class="theme-color-text info-label">PLACEHOLDER_CAMERA_MODEL</div>
                    </div>
                </div>

                <div class="metadata-item-container-font" style="display: flex; flex-direction: column; margin-bottom: 1rem;">
                    <div class="tag-label" id="lang1" style="margin-bottom: 0.5rem;"></div>
                    <div class="theme-color-text tag" id="keywords_sv">PLACEHOLDER_KEYWORDS_SV</div>
                    <div class="theme-color-text tag" id="keywords_en" style="display: none;">PLACEHOLDER_KEYWORDS_EN</div>
                </div>
            </div>
        </div>
    </body>

</html>
